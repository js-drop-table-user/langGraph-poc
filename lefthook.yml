# Lefthook configuration
# Refer to https://github.com/evilmartians/lefthook/blob/master/docs/configuration.md

pre-commit:
  parallel: true
  commands:
    ruff-check:
      glob: "*.py"
      run: uv run ruff check {staged_files}
    ruff-format:
      glob: "*.py"
      run: uv run ruff format --check {staged_files}
    pytest:
      tags: backend test
      glob: "tests/*.py"
      run: uv run pytest {staged_files}
